<template>
    <div
        class="flex flex-row-reverse items-center justify-center w-20 gap-1 p-2 bg-white border border-black rounded-lg h-9 border-opacity-5">
        <button @click="handleImportance(3)" type="button" class="peer/i-3 group">
            <svg width="20" height="20" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"
                class="group-hover:[&>*]:fill-content-brand">
                <path
                    d="M10.0242 5.88086L4.77422 11.5059C4.71859 11.5652 4.64515 11.6049 4.56499 11.6189C4.48483 11.6328 4.4023 11.6204 4.32986 11.5833C4.25741 11.5463 4.19898 11.4867 4.16338 11.4135C4.12778 11.3404 4.11694 11.2576 4.1325 11.1777L4.81969 7.74039L2.11828 6.72601C2.06027 6.70431 2.00853 6.66858 1.96769 6.622C1.92686 6.57542 1.8982 6.51946 1.88427 6.4591C1.87034 6.39875 1.87158 6.33588 1.88788 6.27612C1.90417 6.21636 1.93502 6.16157 1.97766 6.11664L7.22766 0.491637C7.28329 0.432263 7.35673 0.392596 7.43689 0.37862C7.51705 0.364645 7.59958 0.37712 7.67202 0.414163C7.74447 0.451206 7.8029 0.510807 7.8385 0.583972C7.8741 0.657138 7.88494 0.739897 7.86938 0.819762L7.18031 4.26086L9.88172 5.27382C9.93931 5.29567 9.99063 5.33137 10.0311 5.37776C10.0717 5.42415 10.1001 5.47981 10.114 5.53981C10.1279 5.59982 10.1268 5.66232 10.1108 5.7218C10.0949 5.78128 10.0645 5.83591 10.0223 5.88086H10.0242Z"
                    fill="#02061733" />
            </svg>
        </button>
        <button @click="handleImportance(2)" type="button"
            class="peer/i-2 group peer-hover/i-3:[&_*]:fill-content-brand">
            <svg width="20" height="20" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"
                class="group-hover:[&>*]:fill-content-brand">
                <path
                    d="M10.0242 5.88086L4.77422 11.5059C4.71859 11.5652 4.64515 11.6049 4.56499 11.6189C4.48483 11.6328 4.4023 11.6204 4.32986 11.5833C4.25741 11.5463 4.19898 11.4867 4.16338 11.4135C4.12778 11.3404 4.11694 11.2576 4.1325 11.1777L4.81969 7.74039L2.11828 6.72601C2.06027 6.70431 2.00853 6.66858 1.96769 6.622C1.92686 6.57542 1.8982 6.51946 1.88427 6.4591C1.87034 6.39875 1.87158 6.33588 1.88788 6.27612C1.90417 6.21636 1.93502 6.16157 1.97766 6.11664L7.22766 0.491637C7.28329 0.432263 7.35673 0.392596 7.43689 0.37862C7.51705 0.364645 7.59958 0.37712 7.67202 0.414163C7.74447 0.451206 7.8029 0.510807 7.8385 0.583972C7.8741 0.657138 7.88494 0.739897 7.86938 0.819762L7.18031 4.26086L9.88172 5.27382C9.93931 5.29567 9.99063 5.33137 10.0311 5.37776C10.0717 5.42415 10.1001 5.47981 10.114 5.53981C10.1279 5.59982 10.1268 5.66232 10.1108 5.7218C10.0949 5.78128 10.0645 5.83591 10.0223 5.88086H10.0242Z"
                    fill="#02061733" />
            </svg>
        </button>
        <button @click="handleImportance(1)" type="button"
            class="peer/i-1 group peer-hover/i-2:[&_*]:fill-content-brand peer-hover/i-3:[&_*]:fill-content-brand ">
            <svg width="20" height="20" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"
                class="group-hover:[&>*]:fill-content-brand">
                <path
                    d="M10.0242 5.88086L4.77422 11.5059C4.71859 11.5652 4.64515 11.6049 4.56499 11.6189C4.48483 11.6328 4.4023 11.6204 4.32986 11.5833C4.25741 11.5463 4.19898 11.4867 4.16338 11.4135C4.12778 11.3404 4.11694 11.2576 4.1325 11.1777L4.81969 7.74039L2.11828 6.72601C2.06027 6.70431 2.00853 6.66858 1.96769 6.622C1.92686 6.57542 1.8982 6.51946 1.88427 6.4591C1.87034 6.39875 1.87158 6.33588 1.88788 6.27612C1.90417 6.21636 1.93502 6.16157 1.97766 6.11664L7.22766 0.491637C7.28329 0.432263 7.35673 0.392596 7.43689 0.37862C7.51705 0.364645 7.59958 0.37712 7.67202 0.414163C7.74447 0.451206 7.8029 0.510807 7.8385 0.583972C7.8741 0.657138 7.88494 0.739897 7.86938 0.819762L7.18031 4.26086L9.88172 5.27382C9.93931 5.29567 9.99063 5.33137 10.0311 5.37776C10.0717 5.42415 10.1001 5.47981 10.114 5.53981C10.1279 5.59982 10.1268 5.66232 10.1108 5.7218C10.0949 5.78128 10.0645 5.83591 10.0223 5.88086H10.0242Z"
                    fill="#02061733" />
            </svg>
        </button>
    </div>
</template>
<script setup lang="ts">
import { Editor } from "@tiptap/vue-3";
const props = defineProps<{
    editor?: Editor
}>();
const { editor } = toRefs(props);

const handleImportance = (importance: number) => {
    if (!editor.value) return;
    editor.value!
        .chain()
        .focus()
        .toggleMark("importance", {
            level: importance,
            id: Math.random().toString(36).substring(7),
        })
        .run()
}
</script>